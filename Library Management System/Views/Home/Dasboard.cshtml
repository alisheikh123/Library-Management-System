@model IEnumerable<Library_Management_System.Models.LR_Issue>
@{

}

<h2>Dasboard</h2>
<body>
    <div class="row" style="margin-top: 1%;">
        <!-- ./col -->
        <div class="col-md-3 col-sm-6 col-xs-12">
            <div class="info-box">
                <span class="info-box-icon bg-yellow"><i class="fa fa-book"></i></span>
                <div class="info-box-content">
                    <span class="info-box-text">Total No of Issued Books</span>
                    <span id="ContentPlaceHolder1_txtTotalEmp" class="info-box-number">@ViewBag.issueBookCount</span>
                </div>
                <!-- /.info-box-content -->
            </div>
            <!-- /.info-box -->
        </div>

        <div class="col-md-3 col-sm-6 col-xs-12">
            <div class="info-box">
                <span class="info-box-icon bg-green"><i class="glyphicon glyphicon-usd"></i></span>

                <div class="info-box-content">
                    <span class="info-box-text">Total Students Fine Collected</span>
                    <span id="ContentPlaceHolder1_txtPresent" class="info-box-number">@ViewBag.FineBookCount</span>
                </div>
                <!-- /.info-box-content -->
            </div>
            <!-- /.info-box -->
        </div>

        <div class="col-md-3 col-sm-6 col-xs-12">
            <div class="info-box">
                <span class="info-box-icon bg-blue"><i class="fa fa-book"></i></span>
                <div class="info-box-content">
                    <span class="info-box-text">Total No of Reserved books</span>
                    <span id="ContentPlaceHolder1_txtAbsent" class="info-box-number">@ViewBag.reserveBookCount</span>
                </div>
                <!-- /.info-box-content -->
            </div>
            <!-- /.info-box -->
        </div>

        <div class="col-md-3 col-sm-6 col-xs-12">
            <div class="info-box">
                <span class="info-box-icon bg-red"><i class="fa fa-book" aria-hidden="true"></i></span>
                <div class="info-box-content">
                    <span class="info-box-text">Return Books</span>
                    <span id="ContentPlaceHolder1_Span1" class="info-box-number">@ViewBag.ReturnBooksCount/ @ViewBag.issueBookCount </span>
                </div>
                <!-- /.info-box-content -->
            </div>
            <!-- /.info-box -->
        </div>




    </div>
    <div id="chartContainer" style="height: 470px; width: 100%;"></div>
    <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
</body>

@*<script>
window.onload = function () {

var chart = new CanvasJS.Chart("chartContainer", {
	animationEnabled: true,
	title: {
        text: "Library Popular Books Data"
	},
	subtitles: [{
        text: "Most Issued Books"
	}],
	axisY: {
		title: "Number of Nobel Prizes",
		gridThickness: 0
	},
	data: [{
        type: "bar",
        showInLegend: true,
        name: "Math",
        color: "gold",
       dataPoints: @Html.Raw(ViewBag.DataPoints),

    },
        {
            type: "bar",
            showInLegend: true,
            name: "English",
            color: "Blue",
         dataPoints: @Html.Raw(ViewBag.DataPoints),

        }



    ],


});
chart.render();

}
</script>*@





<script type="text/javascript">

    $(function () {
        var chart = new CanvasJS.Chart("chartContainer", {
            title: {
                text: "Library Popular Books Data"
            },
            subtitles: [
                {
                    text: "Most Issued Books"
                }
            ],
            animationEnabled: true,
            legend: {
                cursor: "pointer",
                itemclick: function (e) {
                    if (typeof (e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                        e.dataSeries.visible = false;
                    }
                    else {
                        e.dataSeries.visible = true;
                    }
                    chart.render();
                }
            },
            axisY: {
                title: "Medals"
            },
            toolTip: {
                shared: true,
                content: function (e) {
                    var str = '';
                    var total = 0;
                    var str3;
                    var str2;
                    for (var i = 0; i < e.entries.length; i++) {
                        var str1 = "<span style= 'color:" + e.entries[i].dataSeries.color + "'> " + e.entries[i].dataSeries.name + "</span>: <strong>" + e.entries[i].dataPoint.y + "</strong> <br/>";
                        total = e.entries[i].dataPoint.y + total;
                        str = str.concat(str1);
                    }
                    str2 = "<span style = 'color:DodgerBlue; '><strong>" + e.entries[0].dataPoint.label + "</strong></span><br/>";
                    str3 = "<span style = 'color:Tomato '>Total: </span><strong>" + total + "</strong><br/>";

                    return (str2.concat(str)).concat(str3);
                }

            },
            data: [
            {
                type: "bar",
                showInLegend: true,
                name: "Gold",
                color: "gold",
                //dataPoints: [
                //    { y: 243, label: "France" },
                //    { y: 525, label: "Great Britain" },
                //    { y: 200, label: "Soviet Union" },
                //    { y: 1118, label: "USA" }
                //],

                //You can add dynamic data from the controller as shown below. Check the controller and uncomment the line which generates dataPoints.
                dataPoints: @Html.Raw(ViewBag.DataPoints),
            },
            {
                type: "bar",
                showInLegend: true,
                name: "Silver",
                color: "silver",
                //dataPoints: [
                //    { y: 272, label: "France" },
                //    { y: 299, label: "Great Britain" },
                //    { y: 419, label: "Soviet Union" },
                //    { y: 896, label: "USA" }
                //],

                //You can add dynamic data from the controller as shown below. Check the controller and uncomment the line which generates dataPoints.
                dataPoints: @Html.Raw(ViewBag.DataPoints),
            },
            {
                type: "bar",
                showInLegend: true,
                name: "Bronze",
                color: "#A57164",
                //dataPoints: [
                //    { y: 307, label: "France" },
                //    { y: 301, label: "Great Britain" },
                //    { y: 392, label: "Soviet Union" },
                //    { y: 788, label: "USA" }
                //],

                //You can add dynamic data from the controller as shown below. Check the controller and uncomment the line which generates dataPoints.
                dataPoints: @Html.Raw(ViewBag.DataPoints),
            }

            ]
        });

        chart.render();
    });
</script>